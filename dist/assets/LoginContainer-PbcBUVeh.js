import{r as a,j as e,t as H,v as K,w,x as Q,y as T}from"./index-gAXOsWvj.js";const V=({setShowSignUp:c})=>{const[r,d]=a.useState(!1),[v,u]=a.useState(!1),m=a.useRef(),N=x=>{x.preventDefault();const g=m.current.email.value,p=m.current.password.value,M="https://saeedwebdev.ir/api/auth/login";if(u(!0),(g==""||p=="")&&(d(!0),u(!1)),g!==""&&p!==""){async function y(){const b=await K(M,g,p);b&&(localStorage.setItem("token",b.token),localStorage.setItem("user",JSON.stringify([b.user])),d(!1),location.reload()),b||(d(!0),u(!1))}y()}};return e.jsxs("div",{className:"flex flex-col gap-3 w-full bg-white shadow-3xl py-4 md:px-4 px-3 rounded-[.5rem] z-10 max-w-[392px]",children:[v&&e.jsx(H,{}),e.jsxs("form",{onSubmit:x=>N(x),ref:m,className:"flex flex-col gap-3 w-full [&>input]:bg-bg-hover [&>input]:h-[52px] [&>input]:w-full [&>input]:max-w-[368px] [&>input]:px-3 [&>input]:pb-1",children:[e.jsx("input",{type:"name",id:"email",name:"email",placeholder:"ایمیل"}),e.jsx("input",{id:"password",name:"password",type:"password",placeholder:"رمز عبور"}),r&&e.jsx("span",{className:"text-text-error -my-2 text-[.95rem]",children:"ایمیل یا رمز عبور صحیح نیست"}),e.jsx("div",{className:"flex flex-col items-center justify-between w-full pt-2 gap-3",children:e.jsx("input",{type:"submit",value:"ورود",className:"bg-blue-600 w-full h-12 pb-1 text-white rounded-[.3rem] cursor-pointer"})})]}),e.jsxs("div",{className:"flex flex-col items-center justify-between pt-2 gap-3",children:[e.jsx("button",{className:"w-full h-10 text-[.8rem] text-blue-800 pb-1 border-b-2",children:"رمز عبور را فراموش کرده ام"}),e.jsx("button",{onClick:()=>c(!0),to:"/signup",className:"bg-green-500 hover:bg-green-600 w-[200px] h-12 text-white rounded-[.3rem] md:mt-4 mt-2",children:"تبت نام"})]})]})},X=({setShowSignUp:c})=>{const r=a.useRef(),[d,v]=a.useState(!1),[u,m]=a.useState(!1),[N,x]=a.useState(!1),[g,p]=a.useState(!1),[M,y]=a.useState(!1),[b,P]=a.useState(!1),[B,$]=a.useState(!1),[L,E]=a.useState(!1),[U,R]=a.useState(!1),[_,A]=a.useState(""),[z,I]=a.useState(""),t=(s,D)=>{s.preventDefault();const o=s.target.name,C=r.current.firstName.value,k=r.current.lastName.value,n=r.current.email.value,f=r.current.username.value,J=r.current.days.value,G=r.current.mounths.value,S=r.current.years.value,h=r.current.gender.value,i=r.current.password.value,j=r.current.confirmPassword.value,W="https://saeedwebdev.ir/api/auth/signup";if(D=="submit"&&(i==j&&R(!1),i!==j&&R(!0),C==""&&v(!0),k==""&&m(!0),(n.length<3||n.length>25||!n.includes("@"))&&x(!0),(f.length<3||f.length>15)&&p(!0),(i.length<8||i.length>18)&&$(!0),j==""&&E(!0),(h==""||h=="off")&&P(!0),S>=1384&&y(!0),i==j&&!d&&!u&&!N&&!B&&(h=="male"||h=="female")&&S<1384)){async function q(){const l=await T(W,C,k,n,f,J,G,S,h,i);l&&(l.ru!==""&&l.re!==""&&(A(l.ru),I(l.re)),l.ru!==""&&A(l.ru),l.re!==""&&I(l.re),l.user&&l.token&&(localStorage.setItem("token",l.token),localStorage.setItem("user",JSON.stringify([l.user])),location.reload()))}q()}o=="firstName"&&(C==""&&v(!0),C!==""&&v(!1)),o=="lastName"&&(k==""&&m(!0),k!==""&&m(!1)),o=="email"&&((n.length<=10||n.length>=25||!n.includes("@"))&&x(!0),n.length>=10&&n.length<=25&&n.includes("@")&&x(!1)),o=="username"&&((f.length<=3||f.length>=15)&&p(!0),f.length>=3&&f.length<=15&&p(!1)),o=="password"&&((i.length<=8||i.length>=18)&&$(!0),i.length>=8&&i.length<=18&&$(!1)),o=="confirmPassword"&&(j==""&&E(!0),j!==""&&E(!1)),o=="gender"&&(h=="off"&&P(!0),h=="on"&&P(!1)),o=="years"&&(S>=1384&&y(!0),S<1384&&y(!1))},F=[];for(let s=1;s<=31;s++)F.push(s);const O=[];for(let s=1402;s>=1302;s--)O.push(s);return e.jsxs("form",{onSubmit:s=>t(s,"submit"),ref:r,className:"flex flex-col bg-white md:gap-4 gap-3 [&>div]:relative [&>div]:flex [&>div]:items-center [&>div>input]:bg-bg-hover [&>div>input]:h-10 [&>div>input]:w-full [&>div>input]:px-2 [&>div>input]:pb-1 [&>div>i]:absolute [&>div>i]:left-2 [&>div>i]:text-text-error [&>div>i]:text-[1.3rem] [&>div>i]:cursor-pointer [&>div>div>i]:cursor-pointer shadow-3xl p-4 pt-2 w-[400px] rounded-[.5rem]",children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("h1",{className:"text-2xl pb-1",children:"تبت نام"}),e.jsxs("button",{onClick:()=>c(!1),className:"relative flex items-center justify-center font-normal w-10 h-10 rounded-full hover:bg-bg-hover",children:[e.jsx("i",{className:"absolute w-[.1rem] h-5 rotate-45 bg-black"}),e.jsx("i",{className:"absolute w-5 h-[.1rem] rotate-45 bg-black"})]})]}),e.jsxs("div",{className:"flex items-center w-full gap-2 [&>div]:relative [&>div]:flex [&>div]:items-center [&>div>input]:bg-bg-hover [&>div>input]:h-10 [&>div>input]:w-full [&>div>input]:px-2 [&>div>input]:pb-1 [&>div>i]:absolute [&>div>i]:left-2 [&>div>i]:text-text-error [&>div>i]:text-[1.3rem]",children:[e.jsxs("div",{children:[e.jsx("input",{onBlur:s=>t(s),onChange:s=>t(s),className:`${d?"border-text-error border-[1px]":""}`,type:"name",id:"firstName",name:"firstName",placeholder:"نام"}),d&&e.jsxs("i",{className:"group",children:[e.jsx(w,{}),e.jsx("span",{className:"group-hover:flex hidden absolute -left-1 -top-6 min-w-max bg-red-600 text-white rounded-full px-2 py-[.1rem] text-[.9rem]",children:"باید پر شود"})]})]}),e.jsxs("div",{children:[e.jsx("input",{onBlur:s=>t(s),onChange:s=>t(s),className:`${u?"border-text-error border-[1px]":""}`,type:"name",id:"lastName",name:"lastName",placeholder:"نام خوانوادگی"}),u&&e.jsxs("i",{className:"group",children:[e.jsx(w,{}),e.jsx("span",{className:"group-hover:flex hidden absolute -left-1 -top-6 min-w-max bg-red-600 text-white rounded-full px-2 py-[.1rem] text-[.9rem]",children:"باید پر شود"})]})]})]}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("input",{onBlur:s=>t(s),onChange:s=>t(s),className:`${N?"border-text-error border-[1px]":""}`,type:"email",id:"email",name:"email",placeholder:"ایمیل"}),N&&e.jsxs("i",{className:"group",children:[e.jsx(w,{}),e.jsx("span",{className:"group-hover:flex hidden absolute -left-1 -top-6 min-w-max bg-red-600 text-white rounded-full px-2 py-[.1rem] text-[.9rem]",children:"باید شامل @ و بیش از 10 حرف باشد"})]}),z&&e.jsx("span",{className:"flex w-full text-red-600 text-[.9rem]",children:"ایمیل تکراری است"})]}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("input",{onBlur:s=>t(s),onChange:s=>t(s),className:`${g?"border-text-error border-[1px]":""}`,type:"username",id:"username",name:"username",placeholder:"نام کاربری"}),g&&e.jsxs("i",{className:"group",children:[e.jsx(w,{}),e.jsx("span",{className:"group-hover:flex hidden absolute -left-1 -top-6 min-w-max bg-red-600 text-white rounded-full px-2 py-[.1rem] text-[.9rem]",children:"باید بین 3 تا 15 حرف باشد"})]}),_&&e.jsx("span",{className:"flex w-full text-red-600 text-[.9rem]",children:"نام کاربری تکراری است"})]}),e.jsxs("span",{className:"relative -my-2 -mb-3",children:[e.jsx("span",{className:"text-[.9rem]",children:"تاریخ تولد"}),M&&e.jsx("span",{className:"absolute top-1 pr-1 text-text-error -my-2 text-[1.5rem]",children:"*"})]}),e.jsxs("div",{className:"flex w-full md:gap-2 gap-1 [&>select]:h-10 [&>select]:w-full [&>select]:px-2 [&>select]:border-2 [&>select]:bg-white [&>select]:appearance-none [&>select]:bg-arrow [&>select]:bg-no-repeat [&>select]:bg-[length:12px_12px] [&>select]:bg-[center_left_.5rem]",children:[e.jsx("select",{onChange:s=>t(s),name:"days",id:"days",children:F.map(s=>e.jsx("option",{value:s,children:s}))}),e.jsx("select",{onChange:s=>t(s),name:"mounths",id:"mounths",children:Q.map(s=>e.jsx("option",{value:s,children:s}))}),e.jsx("select",{onChange:s=>t(s),name:"years",id:"years",children:O.map(s=>e.jsx("option",{value:s,children:s}))})]}),e.jsxs("span",{className:"relative -my-2 -mb-3",children:[e.jsx("span",{className:"text-[.9rem]",children:"جنسیت"}),b&&e.jsx("span",{className:"absolute top-1 pr-1 text-text-error -my-2 text-[1.5rem]",children:"*"})]}),e.jsxs("div",{className:"flex items-center w-full md:gap-2 gap-1 [&>span]:flex [&>span]:items-center [&>span]:justify-between [&>span>label]:w-full [&>span]:h-10 [&>span]:w-full [&>span]:px-4 [&>span]:border-2 [&>span]:border-bg-theme-darker [&>span]:bg-white",children:[e.jsxs("span",{children:[e.jsx("label",{htmlFor:"female",children:"زن"}),e.jsx("input",{onChange:s=>t(s),type:"radio",id:"female",name:"gender",value:"female"})]}),e.jsxs("span",{children:[e.jsx("label",{htmlFor:"male",children:"مرد"}),e.jsx("input",{onChange:s=>t(s),type:"radio",id:"male",name:"gender",value:"male"})]})]}),e.jsxs("div",{children:[e.jsx("input",{onBlur:s=>t(s),onChange:s=>t(s),className:`${B?"border-text-error border-[1px]":""}`,id:"password",name:"password",type:"password",placeholder:"رمز عبور"}),B&&e.jsxs("i",{className:"group",children:[e.jsx(w,{}),e.jsx("span",{className:"group-hover:flex hidden absolute -left-1 -top-6 min-w-max bg-red-600 text-white rounded-full px-2 py-[.1rem] text-[.9rem]",children:"باید بین 8 تا 18 حرف باشد"})]})]}),e.jsxs("div",{children:[e.jsx("input",{onBlur:s=>t(s),onChange:s=>t(s),className:`${L?"border-text-error border-[1px]":""}`,id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"تکرار رمز عبور"}),L&&e.jsxs("i",{className:"group",children:[e.jsx(w,{}),e.jsx("span",{className:"group-hover:flex hidden absolute -left-1 -top-6 min-w-max bg-red-600 text-white rounded-full px-2 py-[.1rem] text-[.9rem]",children:"رمز عبور باید تکرار شود"})]})]}),U&&e.jsx("span",{className:"text-text-error -my-2 text-[.95rem]",children:"رمز تکرار شده صحیح نیست"}),e.jsx("span",{className:"flex justify-center w-full",children:e.jsx("input",{type:"submit",value:"تبت نام",className:"bg-green-500 hover:bg-green-600 w-[200px] h-10 text-white rounded-[.3rem] md:mt-4 mt-2 cursor-pointer"})})]})},Y=({setShowSignUp:c})=>e.jsx("section",{className:"fixed right-0 flex justify-center items-center h-screen w-screen md:px-4 px-2 bg-gray-50/75 z-30",children:e.jsx(X,{setShowSignUp:c})}),ee=()=>{const[c,r]=a.useState("");return e.jsxs("section",{className:"relative flex flex-col justify-center items-center h-screen w-screen md:px-4 px-2",children:[e.jsxs("div",{className:"absolute top-0 flex flex-col justify-center m-10 mt-[10vh]",children:[e.jsx("h1",{className:"text-blue-700 md:text-3xl text-2xl min-w-max",children:"SMA - Social Media App"}),e.jsx("p",{className:"flex justify-center w-full text-2xl mt-3",children:"Welcome to SMA"})]}),e.jsx(V,{setShowSignUp:r}),c&&e.jsx(Y,{setShowSignUp:r})]})};export{ee as default};
