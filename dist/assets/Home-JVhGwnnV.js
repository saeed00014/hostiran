import{u,i as o,r as d,z as j,C as g,j as e,L as p,D as h,E as w,P as b}from"./index-ZnidFIX4.js";import{l as v,H as N}from"./index.esm-6gbWGAvM.js";import{P as y,a as f,N as S,F as k}from"./FollowBottun-NO52BYqx.js";import{a as F}from"./index.esm-RprHkUz5.js";const P=()=>{const s=u(),l=o(t=>t.ui),a=l.allPosts,n=l.loginUser;d.useEffect(()=>{a&&a.map(async t=>{const c=`https://saeedwebdev.ir/api/users/${t&&t.user_id}`,i=await j(c);i&&s(g(i[0]))})},[a]);const r=l.allUserAddedPost;return e.jsxs("div",{className:`flex flex-col h-screen w-full md:p-4 p-2 md:gap-6 gap-4\r
     overflow-y-scroll md:pb-20 pb-44`,children:[e.jsx("div",{className:"md:h-[156px] h-[124px]",children:e.jsx(y,{})}),e.jsx("div",{className:"flex flex-col-reverse gap-6 ",children:a[0]==""?"":a[0]!=="no posts"?a.map(t=>{const c=r[0]&&r.find(m=>m&&m.id==t.user_id),i=t.post;let x;return i?x={id:t.id,user_id:t.id,text:t.text,media:t.media,likes:0,comments:0}:x=t,e.jsxs("span",{children:[c&&e.jsx("span",{children:e.jsx(f,{post:x,targetUser:c})},t.id),i=="empty"&&n&&e.jsx("span",{children:e.jsx(f,{post:x,isLoading:t.post,targetUser:n[0]})},t.id),i&&i!=="empty"&&n&&e.jsx("span",{children:e.jsx(f,{post:t.post[0],isLoading:t.post,targetUser:n[0]})},t.id)]})}):e.jsx("div",{className:"flex justify-center w-full",children:e.jsx(S,{})})})]})},U=({result:s})=>e.jsx("div",{className:"flex justify-between w-full hover:bg-bg-hover",children:e.jsx("div",{className:"flex items-center justify-start w-full gap-3 p-2",children:e.jsxs(p,{to:`/sma/profile/${s.id}`,className:"flex items-center justify-start gap-2 w-[60%] ",children:[e.jsx("div",{className:"md:w-[50px] md:min-w-[50px] md:h-[50px] w-[45px] min-w-[45px] h-[45px] bg-white rounded-full",children:e.jsx("img",{src:s.avatar?`https://saeedwebdev.ir/avatar/${s.avatar}`:h,alt:"",className:"object-cover h-full w-full rounded-full"})}),e.jsxs("div",{className:"flex flex-col items-start w-full min-w-max md:text-[1rem] text-[.9rem] ",children:[e.jsx("span",{children:s.firstName+" "+s.lastName}),e.jsxs("span",{children:["@",s.username]})]})]})})}),L=({sValue:s})=>{const[l,a]=d.useState(""),[n,r]=d.useState(!1),[t,c]=d.useState(!0);return d.useEffect(()=>{r(!0);const i=`https://saeedwebdev.ir/api/users/s/${s}`;async function x(){const m=s&&await w(i);m[0]&&(r(!1),c(!0),a(m)),m[0]||(r(!1),c(!1))}x()},[s]),e.jsxs("div",{className:"md:w-[289px] w-[240px] h-screen bg-white md:px-4 px-2 gap-2",children:[n&&e.jsx(v,{color:"black"}),!t&&e.jsx("span",{children:"کاربری وجود ندارد"}),l&&e.jsx("div",{className:"flex flex-col bg-bg-theme-darker rounded-[1rem] overflow-hidden",children:l&&l.map(i=>e.jsx(U,{result:i}))})]})},$=()=>{const[s,l]=d.useState(!1),[a,n]=d.useState(""),r=t=>{n(t.target.value)};return e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 z-50",children:[e.jsxs("div",{className:"relative flex flex-col items-center justify-center ",children:[e.jsx("input",{onSelect:()=>l(!0),onChange:t=>r(t),id:"input",type:"text",placeholder:"جستجو",className:"flex items-center md:w-[257px] w-full h-[42px] pr-12 pb-1 rounded-full bg-bg-theme-darker z-50"}),e.jsx("label",{htmlFor:"input",className:"absolute right-4 z-50",children:e.jsx(b,{})})]}),s&&a&&e.jsx(L,{sValue:a})]})},z=({targetUser:s})=>e.jsx("div",{className:"flex justify-between w-full",children:e.jsxs("div",{className:"flex items-center justify-between w-full py-2 md:px-3 px-2 gap-1 hover:bg-bg-hover",children:[e.jsxs(p,{to:`/sma/profile/${s.id}`,className:"flex items-center justify-start gap-2 w-full overflow-hidden",children:[e.jsx("div",{className:"md:w-[50px] md:min-w-[50px] md:h-[50px] w-[45px] min-w-[45px] h-[45px] bg-white rounded-full",children:e.jsx("img",{src:s.avatar?`https://saeedwebdev.ir/avatar/${s.avatar}`:h,alt:"",className:"object-cover h-full w-full rounded-full"})}),e.jsxs("div",{className:"flex flex-col w-full text-[.8rem]",children:[e.jsx("span",{className:"overflow-hidden min-w-max",children:s&&s.firstName+" "+s.lastName}),e.jsxs("span",{children:["@",s.username]})]})]}),e.jsx(k,{targetUser:[s]})]})}),B=()=>{const s=o(r=>r.ui),l=s.loginUser,a=s.allSuggestedFriends,n=a&&l[0]&&a.filter(r=>r.id!==l[0].id);return e.jsxs("div",{className:"flex flex-col w-full bg-bg-theme-darker rounded-[1rem] z-40",children:[e.jsx("h3",{className:"font-bold md:text-[1.2rem] text-[1rem] p-2 ",children:"پیشنهاد های شما"}),e.jsx("div",{className:"flex flex-col ",children:n&&n.map(r=>e.jsx("span",{children:e.jsx(z,{targetUser:r,loginUser:l})},r.id))}),e.jsx("button",{className:"flex p-2 pb-3 hover:bg-bg-hover rounded-b-[1rem] text-[.8rem] font-bold cursor-pointer",children:"نشان دادن همه"})]})},C=({friend:s})=>e.jsxs(p,{to:`/sma/profile/${s&&s.id}`,className:"flex items-center w-full gap-3 py-2 md:px-3 px-2 hover:bg-bg-hover overflow-x-hidden",children:[e.jsxs("div",{className:"relative md:w-[50px] md:h-[50px] w-[40px] h-[40px] bg-white rounded-full",children:[e.jsx("img",{src:s.avatar?`https://saeedwebdev.ir/avatar/${s.avatar}`:h,alt:"",className:"object-cover md:min-w-[50px] md:min-h-[50px] min-w-[45px] min-h-[45px] rounded-full"}),e.jsx("span",{className:"absolute flex items-center justify-center -right-1 -bottom-1 bg-white w-4 h-4 rounded-full",children:e.jsx("span",{className:"bg-green-400 w-3 h-3 rounded-full"})})]}),e.jsxs("div",{className:"flex flex-col w-full text-[.8rem]",children:[e.jsx("span",{className:"overflow-hidden min-w-max",children:s&&s.firstName+" "+s.lastName}),e.jsxs("span",{children:["@",s&&s.username]})]})]}),A=()=>{const l=o(a=>a.ui).myOnlineFriends;return e.jsxs("div",{className:"flex flex-col bg-bg-theme-darker rounded-[1rem]",children:[e.jsx("h2",{className:"font-bold md:text-[1.2rem] text-[1rem] p-2",children:"لیست دوستان"}),e.jsx("div",{className:"flex flex-col w-full",children:l&&l.map(a=>a&&e.jsx("span",{children:e.jsx(C,{friend:a})},a.id))}),e.jsx("button",{className:"flex p-2 pb-3 hover:bg-bg-hover rounded-b-[1rem] text-[.8rem] font-bold cursor-pointer",children:"نشان دادن همه"})]})},E=({setLeftBar:s,leftBar:l})=>e.jsxs("button",{onClick:()=>s(!l),className:"flex items-center md:gap-3 gap-2 bg-green-500 hover:bg-green-600 rounded-full md:px-3 px-2 md:py-2 py-[.4rem]",children:[e.jsxs("span",{className:"relative flex items-center justify-center font-normal w-3 h-full [&>i]:bg-white",children:[e.jsx("i",{className:`absolute w-[.1rem] h-2 mb-[.37rem] ${l?"rotate-45":"-rotate-45"} bg-black`}),e.jsx("i",{className:`absolute w-2 h-[.1rem] mt-[.36rem] ${l?"rotate-45":"-rotate-45"} bg-black`})]}),e.jsx("span",{className:"md:text-2xl text-[1.4rem]",children:e.jsx(F,{})})]}),H=()=>{const[s,l]=d.useState(!1);return e.jsxs("div",{className:`fixed ${s?"md:left-0 -left-[40px]":"lg:left-0 lg:max-h-screen max-h-[63px] md:-left-[290px] -left-[300px]"} transition-all duration-200 top-0 flex items-start min-w-[290px] md:pb-0 pb-14 h-screen z-30`,children:[e.jsx("div",{className:"absolute md:-right-20 -right-[75px] lg:hidden flex items-center h-[63px] text-white md:ml-4 ml-2",children:e.jsx(E,{setLeftBar:l,leftBar:s})}),e.jsx("div",{className:"flex md:px-2 px-1 py-0 h-full bg-white border-r-[1px] md:max-w-[290px] max-w-[250px]",children:e.jsxs("div",{className:"flex flex-col w-full h-full pt-0 gap-2",children:[e.jsx("div",{className:"sticky top-0 left-0 py-[.7rem] px-2 -mb-2 z-50",children:e.jsx($,{})}),e.jsxs("div",{className:"flex flex-col overflow-y-scroll px-2 md:py-[.8rem] py-[.4rem] md:gap-6 gap-4 h-full z-40 ",children:[e.jsx(B,{}),e.jsx(A,{})]})]})})]})},M=()=>e.jsx("div",{className:"sticky top-0 flex items-center px-4 h-[65px] border-b-[2px] w-full bg-white z-20",children:e.jsx("h1",{className:"md:text-2xl text-[1.3rem] font-bold",children:"خانه"})}),O=()=>e.jsx("div",{className:"fixed left-0 top-20 flex md:min-w-[290px] min-w-[250px] h-screen p-2 pt-0 overflow-x-scroll",children:e.jsx("div",{className:"flex flex-col items-center justify-start w-full h-full p-2 pt-0 gap-4",children:e.jsx(p,{to:"/sma/login",className:"text-blue-700",children:"وارد حساب کاربری خود شوید"})})}),T=()=>{const l=o(a=>a.ui).token;return e.jsxs("section",{className:"flex h-full w-full min-h-screen lg:pl-[290px]",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx(M,{}),e.jsx(P,{})]}),l?e.jsx(H,{}):e.jsx(O,{})]})},R=N(T);export{R as default};
