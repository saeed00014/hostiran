import{u as f,i as x,r as c,y as u,z as p,j as e,L as d,C as m,_ as o,D as h,P as j}from"./index-uCsgrt1E.js";import{H as g}from"./index.esm-Ee16B1qf.js";import{P as w,a as v,F as b}from"./FollowBottun-nZEFDiM1.js";import{a as N}from"./index.esm-GMP403lP.js";const y=()=>{const s=f(),a=x(t=>t.ui),l=a.allPosts;c.useEffect(()=>{l&&l.map(async t=>{const n=`https://saeedwebdev.ir/api/users/${t&&t.user_id}`,i=await u(n);i&&s(p(i[0]))})},[l]);const r=a.allUserAddedPost;return e.jsxs("div",{className:"flex flex-col h-screen w-full md:p-4 p-2 gap-6 overflow-y-scroll md:pb-20 pb-44",children:[e.jsx("div",{className:"h-[156px]",children:e.jsx(w,{})}),e.jsx("div",{className:"flex flex-col-reverse gap-6 ",children:l[0]==""?"":l[0]!=="no posts"?l.map(t=>{const n=r[0]&&r.find(i=>i&&i.id==t.user_id);return n&&e.jsx(v,{post:t,targetUser:n})}):e.jsx("div",{className:"flex justify-center w-full",children:e.jsx("div",{className:"flex justify-center py-2 pb-4 px-3 w-full shadow-3xl rounded-[.6rem] max-w-[800px] bg-white",children:"هیچ پستی وجود ندارد"})})})]})},S=({result:s})=>{const[a,l]=c.useState(null);return c.useEffect(()=>{function r(){const t=new URL(Object.assign({"../../../assets/avatar/testImg.png":o})[`../../../assets/avatar/${s&&s.avatar}`],import.meta.url).href,n=t.split("/").length,i=t.split("/")[n-1];i!=="undefined"&&l(t),i=="undefined"&&l(null)}r()},[s]),e.jsx("div",{className:"flex justify-between w-[259px]",children:e.jsx("div",{className:"flex items-center justify-start w-full py-3 px-3 gap-3 hover:bg-bg-hover",children:e.jsxs(d,{to:`/sma/profile/${s.id}`,className:"flex items-center justify-start gap-2 w-[60%] ",children:[e.jsx("div",{className:"md:w-[50px] md:min-w-[50px] md:h-[50px] w-[45px] min-w-[45px] h-[45px]",children:e.jsx("img",{src:a||m,alt:"",className:"object-cover h-full w-full rounded-full"})}),e.jsxs("div",{className:"flex flex-col items-start w-full min-w-max md:text-[1rem] text-[.9rem] ",children:[e.jsx("span",{children:s.firstName+" "+s.lastName}),e.jsxs("span",{children:["@",s.username]})]})]})})})},F=({sValue:s})=>{const[a,l]=c.useState("");return c.useEffect(()=>{const r=`https://saeedwebdev.ir/api/users/s/${s}`;async function t(){const n=s&&await h(r);n&&l(n)}t()},[s]),e.jsx("div",{className:"w-[289px] h-screen bg-white px-4",children:a&&a.map(r=>e.jsx(S,{result:r}))})},U=()=>{const[s,a]=c.useState(!1),[l,r]=c.useState(""),t=n=>{r(n.target.value)};return e.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 z-50",children:[e.jsxs("div",{className:"relative flex flex-col items-center justify-center ",children:[e.jsx("input",{onSelect:()=>a(!0),onChange:n=>t(n),id:"input",type:"text",placeholder:"جستجو",className:"flex items-center md:w-[257px] w-full h-[42px] pr-12 pb-1 rounded-full bg-bg-theme-darker z-50"}),e.jsx("label",{htmlFor:"input",className:"absolute right-4 z-50",children:e.jsx(j,{})})]}),s&&l&&e.jsx(F,{sValue:l})]})},k=({targetUser:s})=>{const[a,l]=c.useState(null);return c.useEffect(()=>{function r(){const t=new URL(Object.assign({"../../../assets/avatar/testImg.png":o})[`../../../assets/avatar/${s&&s.avatar}`],import.meta.url).href,n=t.split("/").length,i=t.split("/")[n-1];i!=="undefined"&&l(t),i=="undefined"&&l(null)}r()},[s]),e.jsx("div",{className:"flex justify-between w-full",children:e.jsxs("div",{className:"flex items-center justify-between w-full py-2 md:px-3 px-2 gap-1 hover:bg-bg-hover",children:[e.jsxs(d,{to:`/sma/profile/${s.id}`,className:"flex items-center justify-start gap-2 w-full overflow-hidden",children:[e.jsx("div",{className:"md:w-[50px] md:min-w-[50px] md:h-[50px] w-[45px] min-w-[45px] h-[45px] bg-white rounded-full",children:e.jsx("img",{src:a||m,alt:"",className:"object-cover h-full w-full rounded-full"})}),e.jsxs("div",{className:"flex flex-col w-full text-[.8rem]",children:[e.jsx("span",{className:"overflow-hidden min-w-max",children:s&&s.firstName+" "+s.lastName}),e.jsxs("span",{children:["@",s.username]})]})]}),e.jsx(b,{targetUser:[s]})]})})},L=()=>{const s=x(t=>t.ui),a=s.loginUser,l=s.allSuggestedFriends,r=l&&a[0]&&l.filter(t=>t.id!==a[0].id);return e.jsxs("div",{className:"flex flex-col w-full bg-bg-theme-darker rounded-[1rem] z-40",children:[e.jsx("h3",{className:"font-bold md:text-[1.2rem] text-[1rem] p-2 ",children:"پیشنهاد های شما"}),e.jsx("div",{className:"flex flex-col ",children:r&&r.map(t=>e.jsx(k,{targetUser:t,loginUser:a}))}),e.jsx("button",{className:"flex p-2 pb-3 hover:bg-bg-hover rounded-b-[1rem] text-[.8rem] font-bold cursor-pointer",children:"نشان دادن همه"})]})},P=({friend:s})=>{const[a,l]=c.useState(null);return c.useEffect(()=>{function r(){const t=new URL(Object.assign({"../../../assets/avatar/testImg.png":o})[`../../../assets/avatar/${s&&s.avatar}`],import.meta.url).href,n=t.split("/").length,i=t.split("/")[n-1];i!=="undefined"&&l(t),i=="undefined"&&l(null)}r()},[s]),e.jsxs(Link,{to:`/sma/profile/${s&&s.id}`,className:"flex items-center w-full gap-3 py-2 md:px-3 px-2 hover:bg-bg-hover overflow-x-hidden",children:[e.jsxs("div",{className:"relative md:w-[50px] md:h-[50px] w-[40px] h-[40px] bg-white rounded-full",children:[e.jsx("img",{src:a||m,alt:"",className:"object-cover md:min-w-[50px] md:min-h-[50px] min-w-[45px] min-h-[45px] rounded-full"}),e.jsx("span",{className:"absolute flex items-center justify-center -right-1 -bottom-1 bg-white w-4 h-4 rounded-full",children:e.jsx("span",{className:"bg-green-400 w-3 h-3 rounded-full"})})]}),e.jsxs("div",{className:"flex flex-col w-full text-[.8rem]",children:[e.jsx("span",{className:"overflow-hidden min-w-max",children:s&&s.firstName+" "+s.lastName}),e.jsxs("span",{children:["@",s&&s.username]})]})]})},$=()=>{const s=x(l=>l.ui),a=s.myOnlineFriends;return s.targetUser,e.jsxs("div",{className:"flex flex-col bg-bg-theme-darker rounded-[1rem]",children:[e.jsx("h2",{className:"font-bold md:text-[1.2rem] text-[1rem] p-2",children:"لیست دوستان"}),e.jsx("div",{className:"flex flex-col w-full",children:a&&a.map(l=>e.jsx(P,{friend:l}))}),e.jsx("button",{className:"flex p-2 pb-3 hover:bg-bg-hover rounded-b-[1rem] text-[.8rem] font-bold cursor-pointer",children:"نشان دادن همه"})]})},z=()=>{const[s,a]=c.useState(!1);return e.jsxs("div",{className:`fixed ${s?"left-0":"lg:left-0 lg:max-h-screen max-h-[63px] md:-left-[290px] -left-[250px]"} transition-all duration-200 top-0 flex items-start min-w-[290px] md:pb-0 pb-14 h-screen z-40`,children:[e.jsx("div",{className:"lg:hidden flex items-center h-[63px] text-white md:ml-4 ml-2",children:e.jsxs("button",{onClick:()=>a(!s),className:"flex items-center md:gap-3 gap-2 bg-green-500 hover:bg-green-600 rounded-full md:px-3 px-2 md:py-2 py-[.4rem]",children:[e.jsxs("span",{className:"relative flex items-center justify-center font-normal w-3 h-full [&>i]:bg-white",children:[e.jsx("i",{className:`absolute w-[.1rem] h-2 mb-[.37rem] ${s?"rotate-45":"-rotate-45"} bg-black`}),e.jsx("i",{className:`absolute w-2 h-[.1rem] mt-[.36rem] ${s?"rotate-45":"-rotate-45"} bg-black`})]}),e.jsx("span",{className:"md:text-2xl text-[1.4rem]",children:e.jsx(N,{})})]})}),e.jsx("div",{className:"flex md:px-2 px-1 py-0 h-full bg-white border-r-[1px] md:max-w-[290px] max-w-[250px]",children:e.jsxs("div",{className:"flex flex-col w-full h-full pt-0 gap-2",children:[e.jsx("div",{className:"sticky top-0 left-0 py-[.7rem] px-2 -mb-2 z-50",children:e.jsx(U,{})}),e.jsxs("div",{className:"flex flex-col overflow-y-scroll px-2 md:py-[.8rem] py-[.4rem] md:gap-6 gap-4 h-full z-40 ",children:[e.jsx(L,{}),e.jsx($,{})]})]})})]})},A=()=>e.jsx("div",{className:"sticky top-0 flex items-center px-4 h-[65px] border-b-[2px] w-full bg-white z-40",children:e.jsx("h1",{className:"md:text-2xl text-[1.3rem] font-bold",children:"خانه"})}),B=()=>e.jsx("div",{className:"fixed left-0 top-20 flex md:min-w-[290px] min-w-[250px] h-screen p-2 pt-0 overflow-x-scroll",children:e.jsx("div",{className:"flex flex-col items-center justify-start w-full h-full p-2 pt-0 gap-4",children:e.jsx(d,{to:"/sma/login",className:"text-blue-700",children:"وارد حساب کاربری خود شوید"})})}),_=()=>{const a=x(l=>l.ui).token;return e.jsxs("section",{className:"flex h-full w-full min-h-screen lg:pl-[290px]",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx(A,{}),e.jsx(y,{})]}),a?e.jsx(z,{}):e.jsx(B,{})]})},H=g(_);export{H as default};
