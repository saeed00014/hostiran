import{ax as Me,r as c,u as be,i as y,j as e,z as Se,ay as De,az as Re,_ as L,C as A,D as $,E as B,F as I,G as E,H as G,I as M,J as D,K as R,N as O,O as z,P as H,Q,S as q,U as T,V,W as J,X as K,Y as W,Z as X,$ as Y,a0 as Z,a1 as U,a2 as ee,a3 as se,a4 as ae,a5 as te,a6 as ne,a7 as re,a8 as le,a9 as ie,aa as oe,ab as ce,ac as pe,ad as de,ae as me,af as ve,ag as ge,ah as he,ai as ue,aj as xe,ak as fe,al as _e,as as Oe,aA as ye,aB as Ne,aC as Pe,aD as Fe,g as F,aE as ze,aF as He,aG as Qe,aH as qe,aI as Te,aJ as Ve,aK as Je,aL as Ke,aM as We,aN as Xe,aO as Ye,aP as Ze,aQ as Ue,aR as es,aS as ss}from"./index-rh96lnhm.js";import{b as as}from"./index.esm-Dotkj72i.js";import{G as ts}from"./index.esm-JewEfPaj.js";function ns(s){return Me({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#E65100",d:"M41,42H13c-2.2,0-4-1.8-4-4V18c0-2.2,1.8-4,4-4h28c2.2,0,4,1.8,4,4v20C45,40.2,43.2,42,41,42z"}},{tag:"path",attr:{fill:"#F57C00",d:"M35,36H7c-2.2,0-4-1.8-4-4V12c0-2.2,1.8-4,4-4h28c2.2,0,4,1.8,4,4v20C39,34.2,37.2,36,35,36z"}},{tag:"circle",attr:{fill:"#FFF9C4",cx:"30",cy:"16",r:"3"}},{tag:"polygon",attr:{fill:"#942A09",points:"17,17.9 8,31 26,31"}},{tag:"polygon",attr:{fill:"#BF360C",points:"28,23.5 22,31 34,31"}}]})(s)}const _s=()=>{const[s,a]=c.useState(""),[n,t]=c.useState(""),l=be(),u=c.useRef(),o=y(i=>i.ui).loginUser;c.useEffect(()=>{function i(){const d=new URL(Object.assign({"../../assets/avatar/1700021175455-Screenshot (3).png":L,"../../assets/avatar/1700021380995-laptopP1.png":A,"../../assets/avatar/1700022766143-Screenshot (1).png":$,"../../assets/avatar/1700026203021-laptopP1.png":B,"../../assets/avatar/1700026672914-Screenshot (3).png":I,"../../assets/avatar/1700026718463-Screenshot (5).png":E,"../../assets/avatar/1700026730172-Screenshot (4).png":G,"../../assets/avatar/1700026739207-Screenshot (6).png":M,"../../assets/avatar/1700026851107-Screenshot (4).png":D,"../../assets/avatar/1700026900991-Screenshot (5).png":R,"../../assets/avatar/1700027014952-Screenshot (6).png":O,"../../assets/avatar/1700027098382-Screenshot (5).png":z,"../../assets/avatar/1700027241065-Screenshot (3).png":H,"../../assets/avatar/1700027368448-Favion.png":Q,"../../assets/avatar/1700027406405-laptopP1.png":q,"../../assets/avatar/1700027419360-Favivon.png":T,"../../assets/avatar/1700027464646-bodyForm.png":V,"../../assets/avatar/1700027554968-laptopP1.png":J,"../../assets/avatar/1700027691969-Screenshot (3).png":K,"../../assets/avatar/1700027773846-Favion.png":W,"../../assets/avatar/1700027884185-Screenshot (5).png":X,"../../assets/avatar/1700027930931-laptopP1.png":Y,"../../assets/avatar/1700027974019-Screenshot (6).png":Z,"../../assets/avatar/1700027994400-Screenshot (5).png":U,"../../assets/avatar/1700028071397-laptopP1.png":ee,"../../assets/avatar/1700028097989-bodySign.png":se,"../../assets/avatar/1700028183435-Screenshot (5).png":ae,"../../assets/avatar/1700028191265-Screenshot (3).png":te,"../../assets/avatar/1700028279413-Favion.png":ne,"../../assets/avatar/1700028317628-Screenshot (3).png":re,"../../assets/avatar/1700028419543-laptopP1.png":le,"../../assets/avatar/1700028513423-Screenshot (6).png":ie,"../../assets/avatar/1700028652992-Favivon.png":oe,"../../assets/avatar/1700028867853-laptopP1.png":ce,"../../assets/avatar/1700028960535-Screenshot (5).png":pe,"../../assets/avatar/1700028975192-perresume.png":de,"../../assets/avatar/1700029004313-Screenshot (20).png":me,"../../assets/avatar/1700029375605-laptopP1.png":ve,"../../assets/avatar/1700029411873-Screenshot (6).png":ge,"../../assets/avatar/1700029865432-laptopP1.png":he,"../../assets/avatar/1700040216132-Screenshot (76).png":ue,"../../assets/avatar/1700040248940-Screenshot (36).png":xe,"../../assets/avatar/1700283463526-Screenshot (46).png":fe,"../../assets/avatar/1700283571206-bodyCard.png":_e})[`../../assets/avatar/${o&&o[0].avatar}`],import.meta.url).href,g=d.split("/").length,x=d.split("/")[g-1];x!=="undefined"&&a(d),x=="undefined"&&a(null)}i()},[o]);const r=i=>{i.preventDefault();const d="https://saeedwebdev.ir/i",g=o[0].id,x=u.current.text.value,N=0,P=new FormData;P.append("image",n);const S="https://saeedwebdev.ir/api/posts";async function k(){if(n){const b=await Oe(d,P);if(b){const j=b&&await ye(S,g,x,b,N);if(j){l(Ne(j));const w=await Pe(S);l(Fe(w))}}}if(!n){const j=await ye(S,g,x,"",N);if(j){l(Ne(j));const w=await Pe(S);l(Fe(w)),setImageAdrress(null)}}}k()};return e.jsx("form",{enctype:"multipart/form-data",onSubmit:i=>r(i),ref:u,className:"flex justify-center w-full",children:e.jsxs("div",{className:"flex flex-col items-center justify-center w-full shadow-3xl rounded-[.6rem] max-w-[800px] bg-white",children:[e.jsxs("div",{className:"flex w-full md:p-4 px-[5%] py-2 md:gap-2 gap-1",children:[e.jsx("label",{htmlFor:"text",className:"md:max-w-[50px] max-w-[40px] md:h-[50px] h-[40px] bg-white rounded-full",children:e.jsx("img",{src:s||Se,className:"md:max-w-[50px] max-w-[40px] md:h-[50px] h-[40px] object-cover rounded-full"})}),e.jsx("input",{type:"text",name:"text",id:"text",placeholder:"به چه چیری فکر میکنید ؟",className:"w-full pr-2 md:text-[1rem] text-[.9rem]"})]}),e.jsx("div",{className:"flex items-center justify-center w-full md:px-10 px-[5%]",children:e.jsxs("div",{className:"flex items-center justify-between w-full border-t-[2px] py-4 ",children:[e.jsxs("div",{className:"flex w-full md:gap-5 gap-2 [&>div>label]:flex [&>div>label]:gap-1 [&>div>input]:hidden [&>div>label>span]:flex [&>div>label>span]:items-center md:[&>div>label>span]:text-[1.1rem] [&>div>label>span]:text-clamp1 [&>div>label>span]:text-orange-600",children:[e.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[e.jsxs("label",{htmlFor:"image",children:[e.jsx("span",{children:e.jsx(ns,{})}),e.jsx("span",{children:"فیلم و عکس"})]}),e.jsx("input",{onChange:i=>t(i.target.files[0]),type:"file",name:"image",id:"image",accept:".jpg, .jpeg, .png"})]}),e.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[e.jsxs("label",{htmlFor:"location",children:[e.jsx("span",{children:e.jsx(De,{})}),e.jsx("span",{children:"مکان"})]}),e.jsx("input",{type:"location",name:"location",id:"location"})]}),e.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[e.jsxs("label",{children:[e.jsx("span",{children:e.jsx(Re,{})}),e.jsx("span",{children:"ها تگ"})]}),e.jsx("input",{type:"file",name:"image",id:"image"})]})]}),e.jsx("div",{className:"flex justify-end w-[30%]",children:e.jsx("div",{className:"bg-green-500 hover:bg-green-600 rounded-[.4rem] text-white font-semibold",children:e.jsx("input",{type:"submit",name:"submit",value:"اشتراک",className:"cursor-pointer md:py-2 py-[.4rem] md:px-4 px-[.7rem] md:text-[1rem] text-[.9rem]"})})})]})})]})})},je=s=>F.get(s).then(({data:a})=>a).catch(a=>{console.log(a)}),rs=(s,a,n)=>F.post(s,{post_id:a,user_id:n}).then(({data:t})=>t).catch(t=>{console.log(t)}),ls=s=>F.delete(s).then(({data:a})=>(console.log(a),a)).catch(a=>{console.log(a)}),ke=s=>F.get(s).then(({data:a})=>a).catch(a=>{console.log(a)}),is=(s,a,n,t)=>F.post(s,{text:a,post_id:n,user_id:t}).then(({data:l})=>(console.log("data"),console.log(l),l)).catch(l=>{console.log(l)}),os=({comment:s,loginUser:a,targetUser:n})=>{const[t,l]=c.useState(null),o=y(r=>r.ui).allLoginUsers.find(r=>r.id==s.user_id);return c.useEffect(()=>{function r(){const i=new URL(Object.assign({"../../../assets/avatar/1700021175455-Screenshot (3).png":L,"../../../assets/avatar/1700021380995-laptopP1.png":A,"../../../assets/avatar/1700022766143-Screenshot (1).png":$,"../../../assets/avatar/1700026203021-laptopP1.png":B,"../../../assets/avatar/1700026672914-Screenshot (3).png":I,"../../../assets/avatar/1700026718463-Screenshot (5).png":E,"../../../assets/avatar/1700026730172-Screenshot (4).png":G,"../../../assets/avatar/1700026739207-Screenshot (6).png":M,"../../../assets/avatar/1700026851107-Screenshot (4).png":D,"../../../assets/avatar/1700026900991-Screenshot (5).png":R,"../../../assets/avatar/1700027014952-Screenshot (6).png":O,"../../../assets/avatar/1700027098382-Screenshot (5).png":z,"../../../assets/avatar/1700027241065-Screenshot (3).png":H,"../../../assets/avatar/1700027368448-Favion.png":Q,"../../../assets/avatar/1700027406405-laptopP1.png":q,"../../../assets/avatar/1700027419360-Favivon.png":T,"../../../assets/avatar/1700027464646-bodyForm.png":V,"../../../assets/avatar/1700027554968-laptopP1.png":J,"../../../assets/avatar/1700027691969-Screenshot (3).png":K,"../../../assets/avatar/1700027773846-Favion.png":W,"../../../assets/avatar/1700027884185-Screenshot (5).png":X,"../../../assets/avatar/1700027930931-laptopP1.png":Y,"../../../assets/avatar/1700027974019-Screenshot (6).png":Z,"../../../assets/avatar/1700027994400-Screenshot (5).png":U,"../../../assets/avatar/1700028071397-laptopP1.png":ee,"../../../assets/avatar/1700028097989-bodySign.png":se,"../../../assets/avatar/1700028183435-Screenshot (5).png":ae,"../../../assets/avatar/1700028191265-Screenshot (3).png":te,"../../../assets/avatar/1700028279413-Favion.png":ne,"../../../assets/avatar/1700028317628-Screenshot (3).png":re,"../../../assets/avatar/1700028419543-laptopP1.png":le,"../../../assets/avatar/1700028513423-Screenshot (6).png":ie,"../../../assets/avatar/1700028652992-Favivon.png":oe,"../../../assets/avatar/1700028867853-laptopP1.png":ce,"../../../assets/avatar/1700028960535-Screenshot (5).png":pe,"../../../assets/avatar/1700028975192-perresume.png":de,"../../../assets/avatar/1700029004313-Screenshot (20).png":me,"../../../assets/avatar/1700029375605-laptopP1.png":ve,"../../../assets/avatar/1700029411873-Screenshot (6).png":ge,"../../../assets/avatar/1700029865432-laptopP1.png":he,"../../../assets/avatar/1700040216132-Screenshot (76).png":ue,"../../../assets/avatar/1700040248940-Screenshot (36).png":xe,"../../../assets/avatar/1700283463526-Screenshot (46).png":fe,"../../../assets/avatar/1700283571206-bodyCard.png":_e})[`../../../assets/avatar/${n&&n.avatar}`],import.meta.url).href,d=i.split("/").length,g=i.split("/")[d-1];g!=="undefined"&&l(i),g=="undefined"&&l(null)}r()},[n]),e.jsxs("div",{className:`flex ${s.user_id==a[0].id?"justify-end":"justify-start gap-2"} min-w-max`,children:[s.user_id!==a[0].id?e.jsx("div",{className:"w-[40px] h-[40px] ",children:e.jsx("img",{src:t||Se,alt:"",className:"object-cover h-full w-full rounded-full"})}):e.jsx(e.Fragment,{}),e.jsxs("p",{className:`relative max-w-[22rem] px-3 py-2 rounded-[1.5rem] break-words ${s.user_id==a[0].id?"bg-blue-700 text-left text-white":"bg-gray-300"} overflow-visible`,children:[s.user_id==a[0].id&&e.jsx("span",{className:"absolute left-0 -top-4 text-black text-[.7rem] min-w-max",children:a[0]&&a[0].firstName+" "+a[0].lastName}),s.user_id!==a[0].id&&e.jsx("span",{className:"absolute right-3 -top-4 text-black text-[.7rem] min-w-max",children:o&&o.firstName+" "+o.lastName}),s.text]})]})},cs=({post:s})=>{const a=c.useRef(),[n,t]=c.useState(""),l=be(),p=y(r=>r.ui).loginUser,o=r=>{r.preventDefault(),t("");const i=a.current.text.value,d="https://saeedwebdev.ir/api/comments";async function g(){const x=await is(d,i,s.id,p[0].id);x&&l(qe(x))}g()};return e.jsxs("form",{onSubmit:r=>o(r),ref:a,className:"relative flex items-center justify-center border-[2px] w-full h-11 rounded-full",children:[e.jsx("input",{onChange:r=>t(r.target.value),value:n,type:"text",name:"text",placeholder:"پیام ...",className:"h-full w-full rounded-full px-12"}),n?e.jsxs("div",{className:"absolute right-3 text-[1.5rem] text-blue-600",children:[e.jsx("label",{htmlFor:"submit",children:e.jsx(ze,{})}),e.jsx("input",{type:"submit",id:"submit",className:"hidden"})]}):e.jsx("i",{className:"absolute right-3 text-[1.5rem]",children:e.jsx(He,{})}),e.jsxs("div",{className:"absolute left-6 flex text-[1.5rem] gap-4",children:[e.jsx("i",{children:e.jsx(Qe,{})}),e.jsx("i",{children:e.jsx(ts,{})})]})]})},ps=({post:s,targetUser:a})=>{const n=y(p=>p.ui),t=n.allPostComments,l=n.loginUser,u=be();return c.useEffect(()=>{const p=`https://saeedwebdev.ir/api/comments/${s.id}`;async function o(){const r=await ke(p);r&&u(Te(r))}o()},[]),e.jsx("div",{className:"relative flex items-start w-full h-full px-4",children:e.jsxs("div",{className:"sticky top-0 flex flex-col items-start justify-between w-full h-full border-t-2",children:[e.jsx("div",{className:"flex flex-col w-full gap-3 pt-4",children:t[0]?t.map(p=>e.jsx(os,{comment:p,loginUser:l,targetUser:a})):e.jsx("div",{className:"flex items-center justify-center font-medium",children:"هیچ نظری وجود ندارد"})}),e.jsx("div",{className:"sticky bottom-0 flex items-center justify-center w-full bg-bg-theme-body py-3",children:e.jsx(cs,{post:s})})]})})},ds=({post:s,handleSetComment:a,targetUser:n})=>e.jsx("div",{className:"fixed top-0 bottom-0 left-0 right-0 flex items-center justify-center bg-gray-400/25 z-50 py-4 px-10 ",children:e.jsxs("div",{className:"flex flex-col w-full h-full max-h-[800px] max-w-[700px] bg-white overflow-y-scroll rounded-[.6rem]",children:[e.jsxs("header",{className:"sticky top-0 bg-white flex justify-center items-center w-full px-4 min-h-[70px] text-[1.3rem] gap-3 z-50 border-b-[1px]",children:[e.jsx("h1",{children:n&&n.firstName+" "+n.lastName}),e.jsx("div",{className:"absolute left-4",children:e.jsxs("button",{onClick:a,className:"relative flex items-center justify-center font-normal w-10 h-10 bg-gray-300 rounded-full hover:bg-bg-hover",children:[e.jsx("i",{className:"absolute w-[.1rem] h-5 rotate-45 bg-black"}),e.jsx("i",{className:"absolute w-5 h-[.1rem] rotate-45 bg-black"})]})})]}),e.jsx("div",{children:e.jsx(gs,{post:s,edition:"comment",handleSetCommentCall:a})}),e.jsx("div",{className:"h-full bg-bg-theme-body",children:e.jsx(ps,{post:s,targetUser:n})})]})}),ms=()=>{},vs=({handleNotIntrest:s})=>e.jsx("div",{className:"fixed top-0 left-0 flex items-center justify-center w-screen h-screen bg-gray-700/50 z-50",children:e.jsxs("div",{className:"flex flex-col items-center justify-between w-[20rem] border-t-2 border-x-2 bg-white rounded-[1rem] [&>*:last-child]:rounded-b-[1rem] [&>*]:flex [&>*]:justify-center [&>*]:items-center [&>*]:w-full [&>*]:p-2 [&>*]:h-[48px] [&>*]:border-b-2 [&>*]:cursor-pointer",children:[e.jsx("button",{children:"Report"}),e.jsx("button",{children:"Add favorites"}),e.jsx("button",{children:"Go to posts"}),e.jsx("button",{children:"About this acount"}),e.jsx("button",{onClick:s,children:"Cancel"})]})}),gs=({post:s,edition:a,handleSetCommentCall:n,targetUser:t})=>{const[l,u]=c.useState(null),[p,o]=c.useState(null),[r,i]=c.useState(!1),[d,g]=c.useState(!1),[x,N]=c.useState(!1),[P,S]=c.useState(""),[k,b]=c.useState(null),[j,w]=c.useState(null),Ce=be(),f=y(m=>m.ui).loginUser;c.useEffect(()=>{function m(){const h=new URL(Object.assign({"../../assets/avatar/1700021175455-Screenshot (3).png":L,"../../assets/avatar/1700021380995-laptopP1.png":A,"../../assets/avatar/1700022766143-Screenshot (1).png":$,"../../assets/avatar/1700026203021-laptopP1.png":B,"../../assets/avatar/1700026672914-Screenshot (3).png":I,"../../assets/avatar/1700026718463-Screenshot (5).png":E,"../../assets/avatar/1700026730172-Screenshot (4).png":G,"../../assets/avatar/1700026739207-Screenshot (6).png":M,"../../assets/avatar/1700026851107-Screenshot (4).png":D,"../../assets/avatar/1700026900991-Screenshot (5).png":R,"../../assets/avatar/1700027014952-Screenshot (6).png":O,"../../assets/avatar/1700027098382-Screenshot (5).png":z,"../../assets/avatar/1700027241065-Screenshot (3).png":H,"../../assets/avatar/1700027368448-Favion.png":Q,"../../assets/avatar/1700027406405-laptopP1.png":q,"../../assets/avatar/1700027419360-Favivon.png":T,"../../assets/avatar/1700027464646-bodyForm.png":V,"../../assets/avatar/1700027554968-laptopP1.png":J,"../../assets/avatar/1700027691969-Screenshot (3).png":K,"../../assets/avatar/1700027773846-Favion.png":W,"../../assets/avatar/1700027884185-Screenshot (5).png":X,"../../assets/avatar/1700027930931-laptopP1.png":Y,"../../assets/avatar/1700027974019-Screenshot (6).png":Z,"../../assets/avatar/1700027994400-Screenshot (5).png":U,"../../assets/avatar/1700028071397-laptopP1.png":ee,"../../assets/avatar/1700028097989-bodySign.png":se,"../../assets/avatar/1700028183435-Screenshot (5).png":ae,"../../assets/avatar/1700028191265-Screenshot (3).png":te,"../../assets/avatar/1700028279413-Favion.png":ne,"../../assets/avatar/1700028317628-Screenshot (3).png":re,"../../assets/avatar/1700028419543-laptopP1.png":le,"../../assets/avatar/1700028513423-Screenshot (6).png":ie,"../../assets/avatar/1700028652992-Favivon.png":oe,"../../assets/avatar/1700028867853-laptopP1.png":ce,"../../assets/avatar/1700028960535-Screenshot (5).png":pe,"../../assets/avatar/1700028975192-perresume.png":de,"../../assets/avatar/1700029004313-Screenshot (20).png":me,"../../assets/avatar/1700029375605-laptopP1.png":ve,"../../assets/avatar/1700029411873-Screenshot (6).png":ge,"../../assets/avatar/1700029865432-laptopP1.png":he,"../../assets/avatar/1700040216132-Screenshot (76).png":ue,"../../assets/avatar/1700040248940-Screenshot (36).png":xe,"../../assets/avatar/1700283463526-Screenshot (46).png":fe,"../../assets/avatar/1700283571206-bodyCard.png":_e})[`../../assets/avatar/${t&&t.avatar}`],import.meta.url).href,v=h.split("/").length,C=h.split("/")[v-1];C!=="undefined"&&o(h),C=="undefined"&&o(null);const _=new URL(Object.assign({"../../assets/avatar/1700021175455-Screenshot (3).png":L,"../../assets/avatar/1700021380995-laptopP1.png":A,"../../assets/avatar/1700022766143-Screenshot (1).png":$,"../../assets/avatar/1700026203021-laptopP1.png":B,"../../assets/avatar/1700026672914-Screenshot (3).png":I,"../../assets/avatar/1700026718463-Screenshot (5).png":E,"../../assets/avatar/1700026730172-Screenshot (4).png":G,"../../assets/avatar/1700026739207-Screenshot (6).png":M,"../../assets/avatar/1700026851107-Screenshot (4).png":D,"../../assets/avatar/1700026900991-Screenshot (5).png":R,"../../assets/avatar/1700027014952-Screenshot (6).png":O,"../../assets/avatar/1700027098382-Screenshot (5).png":z,"../../assets/avatar/1700027241065-Screenshot (3).png":H,"../../assets/avatar/1700027368448-Favion.png":Q,"../../assets/avatar/1700027406405-laptopP1.png":q,"../../assets/avatar/1700027419360-Favivon.png":T,"../../assets/avatar/1700027464646-bodyForm.png":V,"../../assets/avatar/1700027554968-laptopP1.png":J,"../../assets/avatar/1700027691969-Screenshot (3).png":K,"../../assets/avatar/1700027773846-Favion.png":W,"../../assets/avatar/1700027884185-Screenshot (5).png":X,"../../assets/avatar/1700027930931-laptopP1.png":Y,"../../assets/avatar/1700027974019-Screenshot (6).png":Z,"../../assets/avatar/1700027994400-Screenshot (5).png":U,"../../assets/avatar/1700028071397-laptopP1.png":ee,"../../assets/avatar/1700028097989-bodySign.png":se,"../../assets/avatar/1700028183435-Screenshot (5).png":ae,"../../assets/avatar/1700028191265-Screenshot (3).png":te,"../../assets/avatar/1700028279413-Favion.png":ne,"../../assets/avatar/1700028317628-Screenshot (3).png":re,"../../assets/avatar/1700028419543-laptopP1.png":le,"../../assets/avatar/1700028513423-Screenshot (6).png":ie,"../../assets/avatar/1700028652992-Favivon.png":oe,"../../assets/avatar/1700028867853-laptopP1.png":ce,"../../assets/avatar/1700028960535-Screenshot (5).png":pe,"../../assets/avatar/1700028975192-perresume.png":de,"../../assets/avatar/1700029004313-Screenshot (20).png":me,"../../assets/avatar/1700029375605-laptopP1.png":ve,"../../assets/avatar/1700029411873-Screenshot (6).png":ge,"../../assets/avatar/1700029865432-laptopP1.png":he,"../../assets/avatar/1700040216132-Screenshot (76).png":ue,"../../assets/avatar/1700040248940-Screenshot (36).png":xe,"../../assets/avatar/1700283463526-Screenshot (46).png":fe,"../../assets/avatar/1700283571206-bodyCard.png":_e})[`../../assets/avatar/${s&&s.media}`],import.meta.url).href,Ge=_.split("/").length,we=_.split("/")[Ge-1];we!=="undefined"&&u(_),we=="undefined"&&u(null)}m()},[t,s]),c.useEffect(()=>{async function m(){const h=`https://saeedwebdev.ir/api/likes/${f[0]&&f[0].id}=${s.id}`,v=f[0]&&await je(h);v&&(w(v.isMyLike),b(v.quantity))}m()},[f[0]]),c.useEffect(()=>{async function m(){const h=`https://saeedwebdev.ir/api/comments/q/${s.id}`,v=await ke(h);v&&S(v),v==0&&S(0)}m()},[s]);const Le=()=>{async function m(){await Ye(`https://saeedwebdev.ir/api/posts/${s.id}`)&&Ce(Ze(s))}t&&f[0]&&t.id==f[0].id?m():i(!r)},Ae=()=>{const m="https://saeedwebdev.ir/api/likes",h=`https://saeedwebdev.ir/api/likes/${f[0].id}=${s.id}`;async function v(){if(await rs(m,s.id,f[0].id)){const _=await je(h);w(_.isMyLike),b(_.quantity)}}v()},$e=()=>{const m=`https://saeedwebdev.ir/api/likes/${f[0].id}=${s.id}`,h=`https://saeedwebdev.ir/api/likes/${f[0].id}=${s.id}`;async function v(){if(await ls(m)){const _=await je(h);w(_.isMyLike),b(_.quantity)}}v()},Be=()=>{N(!0)},Ie=()=>{N(!1)},Ee=()=>{i(!1)};return e.jsxs("div",{className:"relative flex justify-center w-full",children:[e.jsxs("div",{className:`flex flex-col  w-full ${a?"":"md:rounded-[.6rem] rounded-[.3rem] shadow-3xl"} max-w-[800px] bg-white`,children:[a!=="comment"&&e.jsxs("header",{className:"flex justify-between md:pt-3 pt-2 md:px-4 px-2 h-[48px] md:mb-3 mb-1 gap-3",children:[e.jsxs("a",{href:`/sma/profile/${t&&t.id}`,className:"flex w-full md:gap-3 gap-2 cursor-pointer",children:[e.jsx("div",{className:"w-10 h-10 min-w-[40px]",children:e.jsx("img",{src:p||Se,alt:"profile picture",className:"object-cover h-full w-full rounded-full"})}),e.jsxs("div",{className:"relative h-9 w-full md:mt-0 mt-1 md:text-[1rem] text-[.9rem]",children:[e.jsx("span",{className:"absolute flex h-4 -top-1",children:t&&t.firstName+" "+t.lastName}),e.jsx("div",{className:"absolute flex h-4 top-5 gap-1",children:e.jsxs("small",{children:["@",t&&t.username]})})]})]}),e.jsxs("div",{className:"flex",children:[e.jsx("button",{className:"flex items-center justify-center md:text-2xl text-[1.7rem] min-w-[40px] min-h-[40px] rounded-full hover:bg-bg-hover",children:e.jsx(Ve,{})}),e.jsxs("button",{onClick:Le,className:"relative flex items-center justify-center font-normal min-w-[40px] min-h-[40px] rounded-full hover:bg-bg-hover",children:[e.jsx("i",{className:"absolute w-[.1rem] md:h-5 h-5 rotate-45 bg-black"}),e.jsx("i",{className:"absolute md:w-5 w-5 h-[.1rem] rotate-45 bg-black"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 max-h-min",children:[e.jsx("div",{className:"md:px-4 px-2 md:text-[1rem] text-[.9rem]",children:e.jsx("p",{children:s.text})}),e.jsx("div",{className:"flex justify-center w-full",children:e.jsx("img",{src:l,alt:""})})]}),e.jsxs("footer",{className:"flex flex-col md:px-4 px-2",children:[e.jsxs("div",{className:"flex items-center justify-between w-full py-2 border-b-[2px]",children:[e.jsxs("div",{className:"flex gap-1 md:mt-0 mt-1 md:text-[1rem] text-[.9rem]",children:[e.jsx("span",{children:"نظرات"}),e.jsx("span",{children:P&&P})]}),e.jsxs("button",{onClick:j&&j==1?$e:Ae,className:"relative flex",children:[e.jsx("span",{className:"md:pl-12 pl-11",children:k&&k}),e.jsx("i",{className:"absolute left-5 md:top-0 top-[.1rem] flex items-center justify-center md:text-[.8rem] text-[.7rem] bg-red-400 [&>*]:text-white p-1 rounded-full border-2 border-white",children:e.jsx(Je,{})}),e.jsx("i",{className:"absolute left-0 md:top-0 top-[.1rem] flex items-center justify-center md:text-[.8rem] text-[.7rem] bg-blue-400 text-white p-1 rounded-full border-2 border-white",children:e.jsx(Ke,{})})]})]}),e.jsxs("div",{className:"flex items-center justify-between w-full md:min-h-[44px] min-h-[34px] py-[.25rem]",children:[e.jsxs("button",{className:"flex items-center justify-center w-full h-full md:gap-2 gap-1 hover:bg-bg-hover rounded-[.3rem]",children:[e.jsx("i",{className:"md:text-2xl",children:e.jsx(We,{})}),e.jsx("span",{className:"md:text-[1rem] text-[.8rem]",children:"دوست داشتن"})]}),e.jsxs("button",{onClick:a!=="comment"?Be:n,className:"flex items-center justify-center w-full h-full md:gap-2 gap-1 hover:bg-bg-hover rounded-[.3rem]",children:[e.jsx("i",{className:"md:text-2xl",children:e.jsx(as,{})}),e.jsx("span",{className:"md:text-[1rem] text-[.8rem]",children:"نظرات"})]}),e.jsxs("button",{onClick:()=>g(!d),className:"relative flex items-center justify-center w-full h-full md:gap-2 gap-1 hover:bg-bg-hover rounded-[.3rem]",children:[e.jsx("i",{className:"md:text-2xl",children:e.jsx(Xe,{})}),e.jsx("span",{className:"md:text-[1rem] text-[.8rem]",children:"ارسال"}),d&&e.jsx(ms,{})]})]})]})]}),r&&e.jsx(vs,{handleNotIntrest:Ee}),x&&a!=="comment"&&e.jsx(ds,{post:s,handleSetComment:Ie,targetUser:t})]})},bs=({targetUser:s})=>{const[a,n]=c.useState("دنبال کردن"),l=y(o=>o.ui).loginUser;c.useEffect(()=>{const o=s[0]&&l[0]&&`https://saeedwebdev.ir/api/friends/f/${l[0].id}=${s[0].id}`;async function r(){const i=s[0]&&l[0]&&await Ue(o);i[0]&&i[0].friend_id==s[0].id&&n("دنبال شده")}r()},[]);const u=()=>{const o="https://saeedwebdev.ir/api/friends",r=l[0]&&l[0].id,i=s[0]&&s[0].id;async function d(){(await es(o,r,i))[0]&&n("دنبال شده")}d()},p=()=>{const o=`https://saeedwebdev.ir/api/friends/${s[0]&&s[0].id}`;async function r(){await ss(o)&&n("دنبال کردن")}r()};return e.jsx("button",{onClick:a=="دنبال کردن"?u:p,className:"flex items-center justify-center min-w-max font-medium md:px-2 px-[.4rem] pt-1 pb-2 md:text-[.8rem] text-[.8rem] rounded-[.4rem] cursor-pointer bg-green-500 hover:bg-green-600 text-white",children:a})};export{bs as F,_s as P,gs as a};
