import{u as h,i as d,r as c,z as u,C as j,j as e,L as x,D as f,E as g,P as w}from"./index-xL2oR6TZ.js";import{l as b,H as v}from"./index.esm-SOv3KYgZ.js";import{P as N,a as y,N as S,F}from"./FollowBottun-2ba7DwOV.js";import{a as k}from"./index.esm-IOc72pAM.js";const P=()=>{const s=h(),a=d(t=>t.ui),l=a.allPosts;c.useEffect(()=>{l&&l.map(async t=>{const r=`https://saeedwebdev.ir/api/users/${t&&t.user_id}`,i=await u(r);i&&s(j(i[0]))})},[l]);const n=a.allUserAddedPost;return e.jsxs("div",{className:`flex flex-col h-screen w-full md:p-4 p-2 md:gap-6 gap-4\r
     overflow-y-scroll md:pb-20 pb-44`,children:[e.jsx("div",{className:"md:h-[156px] h-[124px]",children:e.jsx(N,{})}),e.jsx("div",{className:"flex flex-col-reverse gap-6 ",children:l[0]==""?"":l[0]!=="no posts"?l.map(t=>{const r=n[0]&&n.find(i=>i&&i.id==t.user_id);return r&&e.jsx(y,{post:t,targetUser:r})}):e.jsx("div",{className:"flex justify-center w-full",children:e.jsx(S,{})})})]})},$=({result:s})=>e.jsx("div",{className:"flex justify-between w-[259px]",children:e.jsx("div",{className:"flex items-center justify-start w-full gap-3 hover:bg-bg-hover",children:e.jsxs(x,{to:`/sma/profile/${s.id}`,className:"flex items-center justify-start gap-2 w-[60%] ",children:[e.jsx("div",{className:"md:w-[50px] md:min-w-[50px] md:h-[50px] w-[45px] min-w-[45px] h-[45px] bg-white rounded-full",children:e.jsx("img",{src:s.avatar?`https://saeedwebdev.ir/avatar/${s.avatar}`:f,alt:"",className:"object-cover h-full w-full rounded-full"})}),e.jsxs("div",{className:"flex flex-col items-start w-full min-w-max md:text-[1rem] text-[.9rem] ",children:[e.jsx("span",{children:s.firstName+" "+s.lastName}),e.jsxs("span",{children:["@",s.username]})]})]})})}),z=({sValue:s})=>{const[a,l]=c.useState(""),[n,t]=c.useState(!1),[r,i]=c.useState(!0);return c.useEffect(()=>{t(!0);const m=`https://saeedwebdev.ir/api/users/s/${s}`;async function p(){const o=s&&await g(m);o[0]&&(t(!1),i(!0),l(o)),o[0]||(t(!1),i(!1))}p()},[s]),e.jsxs("div",{className:"w-[289px] h-screen bg-white  px-4 gap-2",children:[n&&e.jsx(b,{color:"black"}),!r&&e.jsx("span",{children:"کاربری وجود ندارد"}),a&&e.jsx("div",{className:"flex flex-col bg-bg-theme-darker rounded-[1rem] p-2",children:a&&a.map(m=>e.jsx($,{result:m}))})]})},U=()=>{const[s,a]=c.useState(!1),[l,n]=c.useState(""),t=r=>{n(r.target.value)};return e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 z-50",children:[e.jsxs("div",{className:"relative flex flex-col items-center justify-center ",children:[e.jsx("input",{onSelect:()=>a(!0),onChange:r=>t(r),id:"input",type:"text",placeholder:"جستجو",className:"flex items-center md:w-[257px] w-full h-[42px] pr-12 pb-1 rounded-full bg-bg-theme-darker z-50"}),e.jsx("label",{htmlFor:"input",className:"absolute right-4 z-50",children:e.jsx(w,{})})]}),s&&l&&e.jsx(z,{sValue:l})]})},B=({targetUser:s})=>e.jsx("div",{className:"flex justify-between w-full",children:e.jsxs("div",{className:"flex items-center justify-between w-full py-2 md:px-3 px-2 gap-1 hover:bg-bg-hover",children:[e.jsxs(x,{to:`/sma/profile/${s.id}`,className:"flex items-center justify-start gap-2 w-full overflow-hidden",children:[e.jsx("div",{className:"md:w-[50px] md:min-w-[50px] md:h-[50px] w-[45px] min-w-[45px] h-[45px] bg-white rounded-full",children:e.jsx("img",{src:s.avatar?`https://saeedwebdev.ir/avatar/${s.avatar}`:f,alt:"",className:"object-cover h-full w-full rounded-full"})}),e.jsxs("div",{className:"flex flex-col w-full text-[.8rem]",children:[e.jsx("span",{className:"overflow-hidden min-w-max",children:s&&s.firstName+" "+s.lastName}),e.jsxs("span",{children:["@",s.username]})]})]}),e.jsx(F,{targetUser:[s]})]})}),L=()=>{const s=d(t=>t.ui),a=s.loginUser,l=s.allSuggestedFriends,n=l&&a[0]&&l.filter(t=>t.id!==a[0].id);return e.jsxs("div",{className:"flex flex-col w-full bg-bg-theme-darker rounded-[1rem] z-40",children:[e.jsx("h3",{className:"font-bold md:text-[1.2rem] text-[1rem] p-2 ",children:"پیشنهاد های شما"}),e.jsx("div",{className:"flex flex-col ",children:n&&n.map(t=>e.jsx("span",{children:e.jsx(B,{targetUser:t,loginUser:a})},t.id))}),e.jsx("button",{className:"flex p-2 pb-3 hover:bg-bg-hover rounded-b-[1rem] text-[.8rem] font-bold cursor-pointer",children:"نشان دادن همه"})]})},A=({friend:s})=>e.jsxs(x,{to:`/sma/profile/${s&&s.id}`,className:"flex items-center w-full gap-3 py-2 md:px-3 px-2 hover:bg-bg-hover overflow-x-hidden",children:[e.jsxs("div",{className:"relative md:w-[50px] md:h-[50px] w-[40px] h-[40px] bg-white rounded-full",children:[e.jsx("img",{src:s.avatar?`https://saeedwebdev.ir/avatar/${s.avatar}`:f,alt:"",className:"object-cover md:min-w-[50px] md:min-h-[50px] min-w-[45px] min-h-[45px] rounded-full"}),e.jsx("span",{className:"absolute flex items-center justify-center -right-1 -bottom-1 bg-white w-4 h-4 rounded-full",children:e.jsx("span",{className:"bg-green-400 w-3 h-3 rounded-full"})})]}),e.jsxs("div",{className:"flex flex-col w-full text-[.8rem]",children:[e.jsx("span",{className:"overflow-hidden min-w-max",children:s&&s.firstName+" "+s.lastName}),e.jsxs("span",{children:["@",s&&s.username]})]})]}),C=()=>{const a=d(l=>l.ui).myOnlineFriends;return e.jsxs("div",{className:"flex flex-col bg-bg-theme-darker rounded-[1rem]",children:[e.jsx("h2",{className:"font-bold md:text-[1.2rem] text-[1rem] p-2",children:"لیست دوستان"}),e.jsx("div",{className:"flex flex-col w-full",children:a&&a.map(l=>l&&e.jsx("span",{children:e.jsx(A,{friend:l})},l.id))}),e.jsx("button",{className:"flex p-2 pb-3 hover:bg-bg-hover rounded-b-[1rem] text-[.8rem] font-bold cursor-pointer",children:"نشان دادن همه"})]})},E=()=>{const[s,a]=c.useState(!1);return e.jsxs("div",{className:`fixed ${s?"left-0":"lg:left-0 lg:max-h-screen max-h-[63px] md:-left-[290px] -left-[250px]"} transition-all duration-200 top-0 flex items-start min-w-[290px] md:pb-0 pb-14 h-screen z-40`,children:[e.jsx("div",{className:"lg:hidden flex items-center h-[63px] text-white md:ml-4 ml-2",children:e.jsxs("button",{onClick:()=>a(!s),className:"flex items-center md:gap-3 gap-2 bg-green-500 hover:bg-green-600 rounded-full md:px-3 px-2 md:py-2 py-[.4rem]",children:[e.jsxs("span",{className:"relative flex items-center justify-center font-normal w-3 h-full [&>i]:bg-white",children:[e.jsx("i",{className:`absolute w-[.1rem] h-2 mb-[.37rem] ${s?"rotate-45":"-rotate-45"} bg-black`}),e.jsx("i",{className:`absolute w-2 h-[.1rem] mt-[.36rem] ${s?"rotate-45":"-rotate-45"} bg-black`})]}),e.jsx("span",{className:"md:text-2xl text-[1.4rem]",children:e.jsx(k,{})})]})}),e.jsx("div",{className:"flex md:px-2 px-1 py-0 h-full bg-white border-r-[1px] md:max-w-[290px] max-w-[250px]",children:e.jsxs("div",{className:"flex flex-col w-full h-full pt-0 gap-2",children:[e.jsx("div",{className:"sticky top-0 left-0 py-[.7rem] px-2 -mb-2 z-50",children:e.jsx(U,{})}),e.jsxs("div",{className:"flex flex-col overflow-y-scroll px-2 md:py-[.8rem] py-[.4rem] md:gap-6 gap-4 h-full z-40 ",children:[e.jsx(L,{}),e.jsx(C,{})]})]})})]})},H=()=>e.jsx("div",{className:"sticky top-0 flex items-center px-4 h-[65px] border-b-[2px] w-full bg-white z-40",children:e.jsx("h1",{className:"md:text-2xl text-[1.3rem] font-bold",children:"خانه"})}),M=()=>e.jsx("div",{className:"fixed left-0 top-20 flex md:min-w-[290px] min-w-[250px] h-screen p-2 pt-0 overflow-x-scroll",children:e.jsx("div",{className:"flex flex-col items-center justify-start w-full h-full p-2 pt-0 gap-4",children:e.jsx(x,{to:"/sma/login",className:"text-blue-700",children:"وارد حساب کاربری خود شوید"})})}),O=()=>{const a=d(l=>l.ui).token;return e.jsxs("section",{className:"flex h-full w-full min-h-screen lg:pl-[290px]",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx(H,{}),e.jsx(P,{})]}),a?e.jsx(E,{}):e.jsx(M,{})]})},R=v(O);export{R as default};
